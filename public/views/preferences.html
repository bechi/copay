<div class="preferences" ng-controller="preferencesController as preferences">
  <form name="settingsForm" ng-submit="preferences.save()">
    <div class="row m20t">
      <div class="large-6 medium-6 columns">
        <label translate>Wallet Unit</label>
        <select class="form-control"
          ng-model="preferences.selectedUnit"
          ng-options="o.name for o in preferences.unitOpts">
        </select>
      </div>
      <div class="large-6 medium-6 columns">
        <label translate>Alternative Currency</label>
        <select class="form-control"
          ng-model="preferences.selectedAlternative"
          ng-options="alternative.name for alternative in preferences.alternativeOpts">
        </select>
      </div>
    </div>
    <div class="row">
      <div class="large-12 columns">
        <label translate>BWS url</label>
        <input type="text" id="bwsurl" type="text" name="bwsurl" ng-model="preferences.bwsurl">
      </div>
    </div>
    <div class="row">
      <div class="large-12 columns">
        <input type="submit" class="button expand black radius" value="{{'Save'|translate}}">
      </div>
    </div>
  </form>

  <div class="row" ng-show="!preferences.backupWalletPlainText && !preferences.error">
    <div class="large-12 columns">
      <button class="black radius expand" ng-click="preferences.downloadWalletBackup()" ng-disabled="preferences.loading"
        ng-show="!preferences.isSafari && !preferences.isCordova"><i class="fi-download"></i>
        <span translate>Download backup</span></button>
      <button class="black radius expand" ng-click="preferences.viewWalletBackup()" ng-disabled="preferences.loading"
        ng-show="preferences.isSafari && !preferences.isCordova"><i class="fi-eye"></i>
        <span translate>View backup</span></button>
      <div ng-show="preferences.isCordova">
        <h4 translate>Backup options</h4>
        <button class="black radius expand"
          ng-click="preferences.copyWalletBackup()"><i class="fi-clipboard-pencil"></i>
          <span translate>Copy to clipboard</span></button>
        <button class="black radius expand"
          ng-click="preferences.sendWalletBackup()"><i class="fi-mail"></i>
          <span translate>Send by email</span></button>
      </div>
    </div>
  </div>

  <div class="row m20b" ng-show="preferences.backupWalletPlainText">
    <div class="large-12 columns">
      <h3 translate>Copy backup in a safe place</h3>
      <div class="input">
        <textarea class="show-for-large-up" readonly rows="7">{{preferences.backupWalletPlainText}}</textarea>
        <textarea class="hide-for-large-up" rows="12">{{preferences.backupWalletPlainText}}</textarea>
      </div>
      <div class="size-12 text-gray text-right">
        <i class="icon-compose"></i> 
        <span translate>Copy this text as it is in a safe place (notepad or email)</span>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="columns text-center">
      <h3 class="text-warning"> <strong translate> Warning! </strong></h3>
      <div class="box-notification" ng-show="preferences.error">
        <div class="box-icon error">
          <i class="fi-x size-24"></i>
        </div>
        <span class="text-warning size-14">
          {{preferences.error|translate}}
        </span>
      </div>
      <p translate class="size-12 text-gray">Permanently delete this wallet. WARNING: this action cannot be reversed.</p>
      <button class="button expand warning" ng-click="preferences.deleteWallet()">
        Delete wallet
      </button>
    </div>
  </div>
</div>
<div class="extra-margin-bottom"></div>
